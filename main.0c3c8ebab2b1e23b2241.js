!function(n){var a={};function o(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,null,[{key:"getTask",value:function(){return this.tasks.length||window.localStorage&&localStorage.getItem(".tasks")&&(this.tasks=JSON.parse(localStorage[".tasks"])),this.tasks}},{key:"createTask",value:function(t){this.tasks.unshift(t),localStorage[".tasks"]=JSON.stringify(this.tasks)}},{key:"deleteTask",value:function(t){for(var e=t.parentElement;!e.dataset.id;)e=e.parentElement;this.tasks=this.tasks.filter(function(t){return t.id!==e.dataset.id}),localStorage[".tasks"]=JSON.stringify(this.tasks)}},{key:"doneTask",value:function(t){for(var e=t.parentElement;!e.dataset.id;)e=e.parentElement;this.tasks=this.tasks.map(function(t){return t.id===e.dataset.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{status:"done"}):t}),localStorage[".tasks"]=JSON.stringify(this.tasks)}},{key:"editTask",value:function(t){localStorage[".tasks"]=JSON.stringify(t)}}]),t}();r(u,"tasks",[]);function i(t,e,n,a,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.title=t,this.description=e,this.priority=n,this.status=a,this.id=o}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var m=function(){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s)}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(s,null,[{key:"showTasks",value:function(){for(var t=u.getTask(),e=document.getElementById("task-list"),n=document.getElementById("bar__search").value,a=document.getElementById("bar__status").value,o=document.getElementById("bar__priority").value;e.hasChildNodes();)e.removeChild(e.lastChild);var r=t.filter(function(t){return"open"===t.status}),i=t.filter(function(t){return"done"===t.status});[].concat(l(r),l(i)).filter(function(t){return t.title.toLowerCase().includes(n.toLowerCase())&&t.status.includes(a)&&t.priority.includes(o)}).map(function(t){return s.domRender(t,e)})}},{key:"domRender",value:function(t,e){var n=document.createElement("div");n.classList.add("task"),n.dataset.id=t.id,"done"===t.status&&n.classList.add("task--done"),n.innerHTML='\n    <h3 class="task__title">'.concat(t.title,'</h3>\n    <p class="task__description">').concat(t.description,'</p>\n    <div class="task__menu">\n      <span class="task__priority task__priority--').concat(t.priority,'">').concat(t.priority,'</span>\n      <div class="task__option">\n        <i class="task__option-btn">•••</i>\n        <ul class="task__option-list">\n            <li class="task__option-item task-done">done</li>\n            <li class="task__option-item task-edit" id="open-modal-edit">edit</li>\n            <li class="task__option-item task-delete">delete</li>\n        </ul>\n      </div>\n    </div>\n  '),e.appendChild(n)}}]),s}();function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(t,null,[{key:"modal",value:function(t){t.classList.contains("open-modal")&&(this.clearModal(),document.getElementById("modal").style.display="flex"),t.classList.contains("close-modal")&&(document.getElementById("modal").style.display="none",document.getElementById("modal-edit").style.display="none",this.clearModal())}},{key:"clearModal",value:function(){document.getElementById("modal-form__title").value="",document.getElementById("modal-form__description").value="",document.getElementById("modal-form__priority").value="normal"}},{key:"createTask",value:function(t){t.preventDefault();var e=document.getElementById("modal-form__title").value,n=document.getElementById("modal-form__description").value,a=document.getElementById("modal-form__priority").value,o="".concat((+new Date).toString(16)),r=new i(e,n,a,"open",o);e.trim()&&n.trim()&&(u.createTask(r),m.showTasks()),this.clearModal(),document.getElementById("modal").style.display="none"}},{key:"editTask",value:function(t){for(var e=t.parentElement;!e.dataset.id;)e=e.parentElement;var n=u.getTask(),a=n.findIndex(function(t){return t.id===e.dataset.id}),o=n[a],r=o.title,i=o.description,s=o.priority,l=document.getElementById("modal-form__title-edit"),d=document.getElementById("modal-form__description-edit"),c=document.getElementById("modal-form__priority-edit");document.getElementById("modal-edit").style.display="flex",l.value=r,d.value=i,c.value=s,document.getElementById("modal-form-edit").addEventListener("submit",function(t){t.preventDefault(),document.getElementById("modal-edit").style.display="none",n[a].title=l.value,n[a].description=d.value,n[a].priority=c.value,document.getElementById("modal-edit").style.display="none",l.value.trim()&&d.value.trim()&&(u.editTask(n),m.showTasks())},{once:!0})}}]),t}();document.addEventListener("DOMContentLoaded",m.showTasks),document.getElementById("open-modal").addEventListener("click",function(t){c.modal(t.target)}),document.getElementById("close-modal").addEventListener("click",function(t){c.modal(t.target)}),document.getElementById("close-modal-edit").addEventListener("click",function(t){c.modal(t.target)}),document.getElementById("modal-form").addEventListener("submit",function(t){c.createTask(t)}),document.querySelector(".task-list").addEventListener("click",function(t){t.target.classList.contains("task-done")&&(u.doneTask(t.target),m.showTasks()),t.target.classList.contains("task-edit")&&c.editTask(t.target),t.target.classList.contains("task-delete")&&(u.deleteTask(t.target),m.showTasks())}),document.getElementById("bar__search").addEventListener("input",m.showTasks),document.getElementById("bar__status").addEventListener("input",m.showTasks),document.getElementById("bar__priority").addEventListener("input",m.showTasks)}]);